{%- comment -%}
  Renders a select dropdown for a product option

  @param {product_option} option - Product option object
  @param {forloop} [forloop] - Parent loop object
  @param {product} [product] - Product object

  @example
  {% render 'variant-dropdown', option: option %}
{%- endcomment -%}

<div class="variant-dropdown">
  <label for="Option-{{ section.id }}-{{ forloop.index0 }}">
    {{- option.name -}}
  </label>
  <div class="select">
    <select
      id="Option-{{ section.id }}-{{ forloop.index0 }}"
      name="options[{{ option.name | escape }}]"
      form="{{ product_form_id }}"
    >
      {%- for value in option.values -%}
        <option
          value="{{ value | escape }}"
          {% if option.selected_value == value %}
            selected="selected"
          {% endif %}
        >
          {{- value -}}
        </option>
      {%- endfor -%}
    </select>
    {%- render 'icon', name: 'caret' -%}
  </div>
</div>
